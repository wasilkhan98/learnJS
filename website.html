<!DOCTYPE html>
<html>
    <title>
        Rock Paper Scissors 
    </title>

    <body>
        <p>Rock Paper Scissors</p>
        <button onclick="cpuPickFunction('rock')">Rock</button>
        <button onclick="cpuPickFunction('paper')">Paper</button>
        <button onclick="cpuPickFunction('scissors')">Scissors</button>
        <button onclick="resetScore()">Reset Score</button>

        <script>
            let score = {
                won:0,lost:0, tie:0
            };

            

            function resetScore()
            {
                score.won = 0;
                score.lost = 0;
                score.tie = 0;
                alert('Score Reset to 0');
            }
            function cpuPickFunction(yourPick)
            {
                let min = 1;
                let max = 3;
                let cpuPick = Math.floor(Math.random() * (max - min + 1)) + min;

                /*
                1 -> rock
                2 -> paper
                3 -> scissors
                */

                if(cpuPick == 1)
                cpuPick = 'rock';
                else if(cpuPick == 2)
                cpuPick = 'paper';
                if(cpuPick == 3)
                cpuPick = 'scissors';

                decideWinner(yourPick, cpuPick);

            }

            function decideWinner(yourPick, cpuPick)
            {
                let victoryMessage = `You win. Your picked ${yourPick} . CPU picked ${cpuPick}.`;
                let defeatMessage = `You lose. Your picked ${yourPick} . CPU picked ${cpuPick}.`;
                let tieMesssage = `A tie! Your picked ${yourPick} . CPU picked ${cpuPick}.`;

                // compare the input value and cpu value 

                // player picked rock
                if(yourPick && yourPick == 'rock')
                {
                    if(cpuPick == 'paper')
                    {
                        console.log(defeatMessage);
                        score.lost++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }
                    else if(cpuPick == 'scissors')
                    {
                        console.log(victoryMessage);
                        score.won++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }
                    else
                    {
                        console.log(tieMesssage);
                        score.tie++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }
                    
                }
                // player picked paper
                else if(yourPick && yourPick == 'paper')
                {
                    if(cpuPick == 'scissors')
                    {
                        console.log(defeatMessage);
                        score.lost++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }
                    else if(cpuPick == 'rock')
                    {
                        console.log(victoryMessage);
                        score.won++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }

                    else
                    console.log(tieMesssage);
                    score.tie++;
                    console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                }
                // player picked scissors
                else if(yourPick && yourPick == 'scissors')
                {
                    if(cpuPick == 'rock')
                    {
                        console.log(defeatMessage);
                        score.lost++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }
                    else if(cpuPick == 'paper')
                    {
                        console.log(victoryMessage);
                        score.won++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }
                    else
                    {
                        console.log(tieMesssage);
                        score.tie++;
                        console.log(`Won : ${score.won}  Lost : ${score.lost}  Tie : ${score.tie} `);
                    }
                    
                }
                else
                alert('Unexpected error occurred.');
            }

                

            
        </script>
    </body>
</html>